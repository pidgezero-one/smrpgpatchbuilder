#A0057_SEWER_FISH

from smrpgpatchbuilder.datatypes.overworld_scripts.action_scripts import *
from smrpgpatchbuilder.datatypes.overworld_scripts.action_scripts.commands import *
from smrpgpatchbuilder.datatypes.overworld_scripts.arguments.area_objects import *
from smrpgpatchbuilder.datatypes.overworld_scripts.arguments.coords import *
from smrpgpatchbuilder.datatypes.overworld_scripts.arguments.directions import *
from smrpgpatchbuilder.datatypes.overworld_scripts.action_scripts.arguments import *
from ....variables.action_script_names import *
from ....variables.event_script_names import *
from ....variables.overworld_sfx_names import *
from ....variables.room_names import *
from ....variables.variable_names import *
from ....packets import *
from ....items import *

script = ActionScript([
	A_ClearSolidityBits(cant_pass_npcs=True, bit_7=True),
	A_Set700CToPressedButton(),
	A_Mem700CAndConst(0x0003),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 1, ["ACTION_57_pause_8"]),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 2, ["ACTION_57_pause_9"]),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 3, ["ACTION_57_pause_10"]),
	A_Pause(3),
	A_Inc(TEMP_702C),
	A_Pause(3, identifier="ACTION_57_pause_8"),
	A_Pause(3, identifier="ACTION_57_pause_9"),
	A_Pause(3, identifier="ACTION_57_pause_10"),
	A_Inc(TEMP_702C),
	A_JmpIfBitSet(SEWER_WATER_LEVEL, ["ACTION_57_object_memory_modify_bits_64"]),
	A_Set700CToCurrentLevel(),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 57, ["ACTION_57_set_animation_speed_83"]),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 58, ["ACTION_57_set_animation_speed_83"]),
	A_Set700CToPressedButton(),
	A_SetWalkingSpeed(SLOW),
	A_SetSequenceSpeed(NORMAL),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 20, ["ACTION_57_set_animation_speed_83"]),
	A_WalkFDirectionSteps(12),
	A_TurnClockwise45DegreesNTimes(4),
	A_BPL262728(identifier="ACTION_57_bpl_26_27_28_22"),
	A_ClearSolidityBits(cant_pass_walls=True),
	A_SetWalkingSpeed(SLOW),
	A_SetSequenceSpeed(NORMAL),
	A_WalkFDirectionSteps(10),
	A_JmpIfObjectWithinRange(comparing_npc=MARIO, usually=0, tiles=8, destinations=["ACTION_57_set_solidity_bits_33"]),
	A_WalkFDirectionSteps(2),
	A_TurnClockwise45DegreesNTimes(4),
	A_WalkFDirectionSteps(12),
	A_TurnClockwise45DegreesNTimes(4),
	A_Jmp(["ACTION_57_bpl_26_27_28_22"]),
	A_SetSolidityBits(cant_pass_walls=True, identifier="ACTION_57_set_solidity_bits_33"),
	A_SetWalkingSpeed(NORMAL),
	A_SetSequenceSpeed(FAST),
	A_WalkFDirectionSteps(2),
	A_UnknownCommand(bytearray(b'\xc7\x87')),
	A_Set700CToObjectCoord(target_npc=DUMMY_0X07, coord=COORD_F),
	A_AddConstToVar(PRIMARY_TEMP_700C, 4),
	A_Mem700CAndConst(0x0007),
	A_CopyVarToVar(from_var=PRIMARY_TEMP_700C, to_var=TEMP_702E),
	A_SetWalkingSpeed(FAST),
	A_JumpToHeight(height=160, silent=True),
	A_Walk1StepFDirection(),
	A_SetPriority(3),
	A_WalkFDirectionSteps(4),
	A_JumpToHeight(height=64, silent=True),
	A_TurnClockwise45DegreesNTimes(4),
	A_WalkFDirectionSteps(2),
	A_JumpToHeight(height=32, silent=True),
	A_WalkFDirectionSteps(2),
	A_ObjectMemoryModifyBits(arg_1=0x09, set_bits=[5], clear_bits=[4, 6]),
	A_Move70107015To7016701B(),
	A_UnknownCommand(bytearray(b'\x98')),
	A_CopyVarToVar(from_var=TEMP_702E, to_var=PRIMARY_TEMP_700C),
	A_FaceEast7C(),
	A_BPL262728(),
	A_ClearSolidityBits(cant_pass_walls=True),
	A_SetWalkingSpeed(SLOW),
	A_SetSequenceSpeed(NORMAL),
	A_WalkFDirectionSteps(12),
	A_TurnClockwise45DegreesNTimes(4),
	A_Jmp(["ACTION_57_bpl_26_27_28_22"]),
	A_ObjectMemoryModifyBits(arg_1=0x09, set_bits=[5], clear_bits=[4, 6], identifier="ACTION_57_object_memory_modify_bits_64"),
	A_ClearSolidityBits(cant_pass_npcs=True, bit_7=True),
	A_SetWalkingSpeed(NORMAL),
	A_FixedFCoordOn(),
	A_FloatingOn(),
	A_JmpIfRandom1of2(["ACTION_57_set_sprite_sequence_72"]),
	A_SetSpriteSequence(index=8, is_sequence=True, looping=False),
	A_Jmp(["ACTION_57_turn_random_direction_73"]),
	A_SetSpriteSequence(index=8, is_sequence=True, looping=False, mirror_sprite=True, identifier="ACTION_57_set_sprite_sequence_72"),
	A_TurnRandomDirection(identifier="ACTION_57_turn_random_direction_73"),
	A_JmpIfRandom2of3(['ACTION_57_jump_to_height_79', 'ACTION_57_jump_to_height_79']),
	A_JumpToHeight(112),
	A_Walk1StepFDirection(),
	A_ResetProperties(),
	A_Jmp(["ACTION_57_walk_1_step_f_direction_80"]),
	A_JumpToHeight(64, identifier="ACTION_57_jump_to_height_79"),
	A_Walk1StepFDirection(identifier="ACTION_57_walk_1_step_f_direction_80"),
	A_ResetProperties(),
	A_Jmp(["ACTION_57_object_memory_modify_bits_64"]),
	A_SetWalkingSpeed(SLOW, identifier="ACTION_57_set_animation_speed_83"),
	A_Inc(TEMP_702C),
	A_CopyVarToVar(from_var=TEMP_702C, to_var=PRIMARY_TEMP_700C),
	A_Mem700CAndConst(0x0003),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 0, ["ACTION_57_shift_f_direction_steps_89"]),
	A_SetWalkingSpeed(NORMAL),
	A_WalkFDirectionSteps(2, identifier="ACTION_57_shift_f_direction_steps_89"),
	A_Inc(TEMP_702C),
	A_CopyVarToVar(from_var=TEMP_702C, to_var=PRIMARY_TEMP_700C),
	A_Mem700CAndConst(0x0003),
	A_JmpIfVarEqualsConst(PRIMARY_TEMP_700C, 0, ["ACTION_57_face_mario_96"]),
	A_TurnRandomDirection(),
	A_Jmp(["ACTION_57_set_animation_speed_83"]),
	A_FaceMario(identifier="ACTION_57_face_mario_96"),
	A_Jmp(["ACTION_57_set_animation_speed_83"])
])
